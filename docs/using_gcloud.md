# s3p - A configurable profile-based S3 backup and upload tool.

**CLI for Linux/MacOS**  **supports** Amazon S3 **|** Google Cloud Storage **|** Linode (Akamai) Object Storage
**|** Oracle Cloud Object Storage

---

## Google Cloud Storage Specific Options

### Providers settings

s3p uses **_Application Default Credentials_** (adc) generated by the Google Cloud CLI. Install the Google Cloud
CLI and then run `gcloud auth application-default login`. After you log in, you should be given the path to a JSON
credentials file. Use this in the **Profile** field under **Provider**.

#### Use a GCloud Application Default Credentials to authenticate

| Provider | Acceptable Values | Required | Description                              |
|:---------|:------------------|:---------|:-----------------------------------------|
| Use      | google            | Y        | Tell s3p to use Google Cloud             |
| Profile  | any string        | Y        | The path to a Google Cloud ADC JSON file |

```yaml
Provider:
  Use: Google
  Profile: "/Users/forrest/.config/gcloud/application_default_credentials.json"
```

---

#### Provider Configuration

| Google       | Acceptable Values                 | Required | Description                                          |
|:-------------|:----------------------------------|:---------|:-----------------------------------------------------|
| Project      | any string                        | N        | Must be populated for s3p to create a bucket         |
| LocationType | region, multi-region, dual-region | N        | The replication by location type for created buckets |
| Storage      | Google Cloud Storage Class        | N        | The storage class to assign to created buckets       |
| BucketACL    | Predefined Bucket ACL             | N        | A predefined ACL to apply to created buckets         |
| ObjectACL    | Predefined Object ACL             | Y        | A predefined ACL to                                  |

```yaml
Google:
  Project: "MyOrganizationProject"
  LocationType: "region"
  Storage: "standard"
  BucketACL: "projectPrivate"
  ObjectACL: "projectPrivate"
```
---

### Location Type

Configure your bucket's default regional replication type

```yaml
Google:
  LocationType: "region"
```

**LocationType** <br/>
The default is "region", but any of the following are valid:

- `region`
- `dual-region`
- `multi-region`

#### Notes for the LocationType `region` and `dual-region`

When specifying `region` as the `LocationType`, the `Bucket`.`Region` field should contain one single region.
When specifying `dual-region` as the `LocationType`, the `Bucket`.`Region` field should contain two regions separated by
a single space. For example, `"US-EAST1 US-EAST4"`. You cannot use a predefined dual-region name.


When specifying `multi-region` as the `LocationType`, the `Bucket`.`Region` field should contain one of the predefined
multi-region names:

- `"US"`
- `"EU"`
- `"ASIA"`

---
### Bucket and Object ACL Options

Configure your bucket's ACL using predefined rulesets.

```yaml
Google:
  BucketACL: "private"
  ObjectACL: "private"
```

**BucketACL** <br/>
The default is `private`, but you can use any canned ACL:

- `authenticatedRead`
- `private`
- `projectPrivate`
- `publicRead`
- `publicReadWrite`

Read more about location types here: [Google Cloud Bucket Locations](https://cloud.google.com/storage/docs/locations)

**ObjectACL** <br/>
The default is `private`, but you can use any canned ACL:

- `authenticatedRead`
- `bucketOwnerFullControl`
- `bucketOwnerRead`
- `private`
- `projectPrivate`
- `publicRead`

Read more about ACLs
here: [Google Cloud Predefined ACLs](https://cloud.google.com/storage/docs/access-control/lists#predefined-acl)

---
### Storage Classes

Configure your bucket's default storage class.

```yaml
Google:
  Storage: "STANDARD"
```

**Storage Class** <br/>
The default is `STANDARD`, but the following are all valid options:

- `STANDARD`
- `NEARLINE`
- `COLDLINE`
- `ARCHIVE`

Read more about the available storage classes
here: [Google Cloud Storage Classes](https://cloud.google.com/storage/docs/storage-classes)